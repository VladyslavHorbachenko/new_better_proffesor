{"ast":null,"code":"import _slicedToArray from\"/Users/vladyslavhorbachenko/Desktop/FinalCall/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{axiosWithAuth}from\"../utils/axiosWithAuth\";import'../App.css';function StudentList(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),student=_useState2[0],setStudent=_useState2[1];useEffect(function(){axiosWithAuth().get(\"/api/students\").then(function(res){console.log(res);setStudent(res.data.students);}).catch(function(err){return console.log(err);});},[]);var onClickEditHandler=function onClickEditHandler(item){window.location.href=\"/update-student/\".concat(item.id);};var onClickDeleteHandler=function onClickDeleteHandler(ev,item){ev.preventDefault();axiosWithAuth().delete(\"/api/students/\".concat(item.id)).then(function(res){var a=window.confirm(\"Do you wanna delete\"+\" \"+item.name);if(a===false)return 0;else{window.location.href=\"/student-list\";}}).catch(function(err){return console.log(err);});};return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h1\",null,\"Student List\"),/*#__PURE__*/React.createElement(\"br\",null),student.map(function(item){return/*#__PURE__*/React.createElement(\"div\",{className:\"student_list\"},/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(\"span\",null,\"Name:\"),\" \",item.name,\"  \\xA0 \\xA0 \",/*#__PURE__*/React.createElement(\"span\",null,\"Email:\"),\" \",item.email),/*#__PURE__*/React.createElement(\"button\",{className:\"edit_delete\",onClick:function onClick(){return onClickEditHandler(item);}},\"Edit\"),/*#__PURE__*/React.createElement(\"button\",{className:\"edit_delete\",onClick:function onClick(ev){return onClickDeleteHandler(ev,item);}},\"Delete\"));}));}export default StudentList;","map":{"version":3,"sources":["/Users/vladyslavhorbachenko/Desktop/FinalCall/src/components /StudentList.js"],"names":["React","useState","useEffect","axiosWithAuth","StudentList","props","student","setStudent","get","then","res","console","log","data","students","catch","err","onClickEditHandler","item","window","location","href","id","onClickDeleteHandler","ev","preventDefault","delete","a","confirm","name","map","email"],"mappings":"gIAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,CAAwBC,SAAxB,KAAwC,OAAxC,CACA,OAAQC,aAAR,KAA4B,wBAA5B,CACA,MAAO,YAAP,CAEA,QAASC,CAAAA,WAAT,CAAqBC,KAArB,CAA4B,eACIJ,QAAQ,CAAC,EAAD,CADZ,wCAClBK,OADkB,eACVC,UADU,eAGxBL,SAAS,CAAC,UAAM,CACZC,aAAa,GACRK,GADL,CACS,eADT,EAEKC,IAFL,CAEU,SAAAC,GAAG,CAAI,CACTC,OAAO,CAACC,GAAR,CAAYF,GAAZ,EACAH,UAAU,CAACG,GAAG,CAACG,IAAJ,CAASC,QAAV,CAAV,CACH,CALL,EAMKC,KANL,CAMW,SAAAC,GAAG,QAAIL,CAAAA,OAAO,CAACC,GAAR,CAAYI,GAAZ,CAAJ,EANd,EAOH,CARQ,CAQP,EARO,CAAT,CAUA,GAAMC,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,CAACC,IAAD,CAAU,CACjCC,MAAM,CAACC,QAAP,CAAgBC,IAAhB,2BAAwCH,IAAI,CAACI,EAA7C,EACH,CAFD,CAIA,GAAMC,CAAAA,oBAAoB,CAAG,QAAvBA,CAAAA,oBAAuB,CAACC,EAAD,CAAKN,IAAL,CAAc,CACvCM,EAAE,CAACC,cAAH,GAEAtB,aAAa,GACRuB,MADL,yBAC6BR,IAAI,CAACI,EADlC,GAEKb,IAFL,CAEU,SAAAC,GAAG,CAAI,CACX,GAAIiB,CAAAA,CAAC,CAAIR,MAAM,CAACS,OAAP,CAAe,sBAAwB,GAAxB,CAA8BV,IAAI,CAACW,IAAlD,CAAT,CACE,GAAIF,CAAC,GAAK,KAAV,CAAiB,MAAQ,EAAR,CAAjB,IACI,CACAR,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAqB,eAArB,CACH,CACJ,CARL,EASKN,KATL,CASW,SAAAC,GAAG,QAAIL,CAAAA,OAAO,CAACC,GAAR,CAAYI,GAAZ,CAAJ,EATd,EAUH,CAbD,CAeA,mBACI,4CACI,6CADJ,cACyB,8BADzB,CAEKV,OAAO,CAACwB,GAAR,CAAY,SAAAZ,IAAI,CAAI,CACjB,mBACI,2BAAK,SAAS,CAAC,cAAf,eACI,2CACG,wCADH,KACuBA,IAAI,CAACW,IAD5B,6BACiD,yCADjD,KACsEX,IAAI,CAACa,KAD3E,CADJ,cAII,8BAAQ,SAAS,CAAC,aAAlB,CAAgC,OAAO,CAAE,yBAAMd,CAAAA,kBAAkB,CAACC,IAAD,CAAxB,EAAzC,SAJJ,cAKI,8BAAS,SAAS,CAAC,aAAnB,CAAiC,OAAO,CAAE,iBAAAM,EAAE,QAAID,CAAAA,oBAAoB,CAACC,EAAD,CAAKN,IAAL,CAAxB,EAA5C,WALJ,CADJ,CAUH,CAXA,CAFL,CADJ,CAkBH,CAED,cAAed,CAAAA,WAAf","sourcesContent":["import React, {useState,useEffect} from \"react\";\nimport {axiosWithAuth} from \"../utils/axiosWithAuth\";\nimport '../App.css'\n\nfunction StudentList(props) {\n    const[student,setStudent] = useState([])\n\n    useEffect(() => {\n        axiosWithAuth()\n            .get(\"/api/students\")\n            .then(res => {\n                console.log(res)\n                setStudent(res.data.students)\n            })\n            .catch(err => console.log(err))\n    },[])\n\n    const onClickEditHandler = (item) => {\n        window.location.href=`/update-student/${item.id}`\n    }\n\n    const onClickDeleteHandler = (ev, item) => {\n        ev.preventDefault();\n\n        axiosWithAuth()\n            .delete(`/api/students/${item.id}`)\n            .then(res => {\n              let a =  window.confirm(\"Do you wanna delete\" + \" \" + item.name)\n                if (a === false) return  0;\n                else{\n                    window.location.href=\"/student-list\"\n                }\n            })\n            .catch(err => console.log(err))\n    }\n\n    return(\n        <div>\n            <h1>Student List</h1><br/>\n            {student.map(item => {\n                return (\n                    <div className=\"student_list\">\n                        <li>\n                           <span>Name:</span> {item.name} \t&nbsp;\t&nbsp; <span>Email:</span> {item.email}\n                        </li>\n                        <button className=\"edit_delete\" onClick={() => onClickEditHandler(item)}>Edit</button>\n                        <button  className=\"edit_delete\" onClick={ev => onClickDeleteHandler(ev, item)} >Delete</button>\n\n                    </div>\n                );\n            })}\n        </div>\n\n    )\n}\n\nexport default StudentList"]},"metadata":{},"sourceType":"module"}