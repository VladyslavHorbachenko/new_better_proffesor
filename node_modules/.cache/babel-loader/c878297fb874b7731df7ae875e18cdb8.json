{"ast":null,"code":"import _defineProperty from\"/Users/vladyslavhorbachenko/Desktop/FinalCall/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/vladyslavhorbachenko/Desktop/FinalCall/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/vladyslavhorbachenko/Desktop/FinalCall/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{useParams}from\"react-router-dom\";import{axiosWithAuth}from\"../utils/axiosWithAuth\";import{StyledForm}from\"./RegisterForm\";function UpdateStudent(props){var _useState=useState({name:'',email:''}),_useState2=_slicedToArray(_useState,2),item=_useState2[0],setItem=_useState2[1];var _useParams=useParams(),id=_useParams.id;useEffect(function(){axiosWithAuth().get(\"/api/students/\".concat(id)).then(function(res){console.log(res.data.student);setItem(res.data.student);}).catch(function(err){return console.log(err);});},[]);var onChangeHandler=function onChangeHandler(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;setItem(_objectSpread({},item,_defineProperty({},name,value)));};var onSubmitHandler=function onSubmitHandler(e){e.preventDefault();axiosWithAuth().put(\"/api/students/\".concat(id),{name:item.name,email:item.email}).then(function(res){// console.log(res)\nwindow.location.href=\"/student-list\";}).catch(function(err){return console.log(err);});};return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(StyledForm,{autocomplete:\"off\",onSubmit:onSubmitHandler},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"name\"},\"Name:\"),/*#__PURE__*/React.createElement(\"input\",{autocomplete:\"off\",type:\"text\",name:\"name\",value:item.name,onChange:onChangeHandler})),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"name\"},\"Email:\"),/*#__PURE__*/React.createElement(\"input\",{autocomplete:\"off\",type:\"email\",name:\"email\",value:item.email,onChange:onChangeHandler})),/*#__PURE__*/React.createElement(\"button\",null,\"Update\")));}export default UpdateStudent;","map":{"version":3,"sources":["/Users/vladyslavhorbachenko/Desktop/FinalCall/src/components /UpdateStudent.js"],"names":["React","useEffect","useState","useParams","axiosWithAuth","StyledForm","UpdateStudent","props","name","email","item","setItem","id","get","then","res","console","log","data","student","catch","err","onChangeHandler","e","target","value","onSubmitHandler","preventDefault","put","window","location","href"],"mappings":"iYAAA,MAAOA,CAAAA,KAAP,EAAeC,SAAf,CAA0BC,QAA1B,KAAyC,OAAzC,CACA,OAAQC,SAAR,KAAwB,kBAAxB,CACA,OAAQC,aAAR,KAA4B,wBAA5B,CACA,OAAQC,UAAR,KAAyB,gBAAzB,CAEA,QAASC,CAAAA,aAAT,CAAuBC,KAAvB,CAA8B,eAEFL,QAAQ,CAAC,CAC7BM,IAAI,CAAE,EADuB,CAE7BC,KAAK,CAAE,EAFsB,CAAD,CAFN,wCAEnBC,IAFmB,eAEbC,OAFa,8BAObR,SAAS,EAPI,CAOnBS,EAPmB,YAOnBA,EAPmB,CAS1BX,SAAS,CAAC,UAAM,CACZG,aAAa,GACRS,GADL,yBAC0BD,EAD1B,GAEKE,IAFL,CAEU,SAAAC,GAAG,CAAI,CACTC,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,IAAJ,CAASC,OAArB,EACAR,OAAO,CAACI,GAAG,CAACG,IAAJ,CAASC,OAAV,CAAP,CACH,CALL,EAMKC,KANL,CAMW,SAAAC,GAAG,QAAIL,CAAAA,OAAO,CAACC,GAAR,CAAYI,GAAZ,CAAJ,EANd,EAOH,CARQ,CAQN,EARM,CAAT,CAUA,GAAMC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAAAC,CAAC,CAAI,eACHA,CAAC,CAACC,MADC,CAClBhB,IADkB,WAClBA,IADkB,CACZiB,KADY,WACZA,KADY,CAEzBd,OAAO,kBAAKD,IAAL,oBAAYF,IAAZ,CAAmBiB,KAAnB,GAAP,CACH,CAHD,CAKA,GAAMC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAAAH,CAAC,CAAI,CACzBA,CAAC,CAACI,cAAF,GAEAvB,aAAa,GACRwB,GADL,yBAC0BhB,EAD1B,EACgC,CAAEJ,IAAI,CAAEE,IAAI,CAACF,IAAb,CAAmBC,KAAK,CAAEC,IAAI,CAACD,KAA/B,CADhC,EAEKK,IAFL,CAEU,SAAAC,GAAG,CAAI,CACT;AACAc,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAqB,eAArB,CACH,CALL,EAMKX,KANL,CAMW,SAAAC,GAAG,QAAIL,CAAAA,OAAO,CAACC,GAAR,CAAYI,GAAZ,CAAJ,EANd,EAOH,CAVD,CAYA,mBACI,4CACI,oBAAC,UAAD,EAAa,YAAY,CAAC,KAA1B,CAAgC,QAAQ,CAAEK,eAA1C,eACI,4CACI,6BAAO,OAAO,CAAC,MAAf,UADJ,cAEI,6BACI,YAAY,CAAC,KADjB,CAEI,IAAI,CAAC,MAFT,CAGI,IAAI,CAAC,MAHT,CAII,KAAK,CAAEhB,IAAI,CAACF,IAJhB,CAKI,QAAQ,CAAEc,eALd,EAFJ,CADJ,cAWI,4CACI,6BAAO,OAAO,CAAC,MAAf,WADJ,cAEI,6BACI,YAAY,CAAC,KADjB,CAEI,IAAI,CAAC,OAFT,CAGI,IAAI,CAAC,OAHT,CAII,KAAK,CAAEZ,IAAI,CAACD,KAJhB,CAKI,QAAQ,CAAEa,eALd,EAFJ,CAXJ,cAqBI,2CArBJ,CADJ,CADJ,CA2BH,CAED,cAAehB,CAAAA,aAAf","sourcesContent":["import React, {useEffect, useState} from \"react\";\nimport {useParams} from \"react-router-dom\";\nimport {axiosWithAuth} from \"../utils/axiosWithAuth\";\nimport {StyledForm} from \"./RegisterForm\";\n\nfunction UpdateStudent(props) {\n\n    const [item, setItem] = useState({\n        name: '',\n        email: ''\n    })\n\n    const {id} = useParams();\n\n    useEffect(() => {\n        axiosWithAuth()\n            .get(`/api/students/${id}`)\n            .then(res => {\n                console.log(res.data.student);\n                setItem(res.data.student)\n            })\n            .catch(err => console.log(err))\n    }, [])\n\n    const onChangeHandler = e => {\n        const {name, value} = e.target;\n        setItem({...item, [name]: value});\n    }\n\n    const onSubmitHandler = e => {\n        e.preventDefault();\n\n        axiosWithAuth()\n            .put(`/api/students/${id}`, { name: item.name, email: item.email })\n            .then(res => {\n                // console.log(res)\n                window.location.href=\"/student-list\"\n            })\n            .catch(err => console.log(err))\n    }\n\n    return(\n        <div>\n            <StyledForm  autocomplete=\"off\" onSubmit={onSubmitHandler}>\n                <div>\n                    <label htmlFor=\"name\">Name:</label>\n                    <input\n                        autocomplete=\"off\"\n                        type=\"text\"\n                        name=\"name\"\n                        value={item.name}\n                        onChange={onChangeHandler}\n                    />\n                </div>\n                <div>\n                    <label htmlFor=\"name\">Email:</label>\n                    <input\n                        autocomplete=\"off\"\n                        type=\"email\"\n                        name=\"email\"\n                        value={item.email}\n                        onChange={onChangeHandler}\n                    />\n                </div>\n                <button>Update</button>\n            </StyledForm>\n        </div>\n    );\n}\n\nexport default UpdateStudent;"]},"metadata":{},"sourceType":"module"}