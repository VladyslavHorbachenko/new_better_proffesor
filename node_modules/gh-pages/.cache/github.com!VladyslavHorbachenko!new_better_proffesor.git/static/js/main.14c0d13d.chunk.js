(this["webpackJsonpbetter-proffesor-app"]=this["webpackJsonpbetter-proffesor-app"]||[]).push([[0],{26:function(e,t,n){},49:function(e,t,n){e.exports=n(79)},54:function(e,t,n){},79:function(e,t,n){"use strict";n.r(t);var a=n(0),l=n.n(a),o=n(38),r=n.n(o),c=(n(54),n(7)),i=n(10),u=(n(26),n(5)),m=n(9),s=n(6),p=n(12),d=n.n(p),f=function(){var e=localStorage.getItem("token");return d.a.create({baseURL:"https://betterprofessorapp.herokuapp.com",headers:{Authorization:e}})},h=n(39);function E(){var e=Object(h.a)(["\nwidth: 50%;\nheight: 70vh;\nmargin: auto 300px;\npadding: 32px;\nfont-weight: bold;\ncolor: #223F68;\nbox-shadow: 0 0 10px 5px lightgray;\ndisplay: flex;\nflex-direction: column;\njustify-content: space-evenly;\nborder-radius:25px;\n \ninput {\n    margin-bottom: 28px;\n    padding: 0.5rem;\n    font-size: 16px;\n    width: 96%;\n    display: block;\n    color: white;\n    border-radius:3px;\n   \n}\nlabel {\n    display: flex;\n    text-align: start;\n    justify-content: end;\n    \n}\nbutton {\n  max-width: 100%;\n  width: 250px;\n  margin: 20px 0;\n  padding: 12px 20px;\n  border-style: none;\n  background-color: #457B9D;\n  box-shadow: 0px 2px 2px lightgray;\n  font-size: 25px;\n  font-weight: 500;\n  color: #F8F9F7;\n  cursor: pointer;\n  outline: none;\n  -webkit-appearance: none;\n  display: flex;\n  align-self: center;\n  text-align:center;\n  color:white;\n    align-items: center;\n    justify-content: center;\n}\n"]);return E=function(){return e},e}var g=n(40).a.form(E()),b=function(){var e=Object(a.useState)({name:"",email:"",password:""}),t=Object(s.a)(e,2),n=t[0],o=t[1],r=function(e){o(Object(m.a)({},n,Object(u.a)({},e.target.name,e.target.value))),console.log(e.target.value)};return l.a.createElement(g,{autocomplete:"off",onSubmit:function(e){e.preventDefault(),d.a.post("https://betterprofessorapp.herokuapp.com/api/auth/register",n).then((function(e){window.location.href="/login",console.log(e.data)})).catch((function(e){return console.log(e.response)}))}},l.a.createElement("label",{htmlFor:"name"},"Username"),l.a.createElement("input",{autocomplete:"off",name:"name",id:"name",type:"text",placeholder:"Name",onChange:r,value:n.name,required:!0}),l.a.createElement("label",{htmlFor:"email"},"Email"),l.a.createElement("input",{autocomplete:"off",name:"email",id:"email",type:"text",placeholder:"Email",onChange:r,value:n.email,required:!0}),l.a.createElement("label",{htmlFor:"password"},"Password"),l.a.createElement("input",{autocomplete:"off",name:"password",id:"password",type:"password",placeholder:"Password",onChange:r,value:n.password,required:!0}),l.a.createElement("button",{type:"submit"},"Register"))},v=n(48),w=function(e){var t=Object(a.useState)({email:"",password:""}),n=Object(s.a)(t,2),o=n[0],r=n[1],i=function(e){r(Object(m.a)({},o,Object(u.a)({},e.target.name,e.target.value)))};return l.a.createElement("div",null,l.a.createElement(g,{onSubmit:function(t){t.preventDefault(),d.a.post("https://betterprofessorapp.herokuapp.com/api/auth/login",o).then((function(t){console.log(t),localStorage.setItem("token",t.data.token),localStorage.setItem("name",t.data.name),console.log(e.history),window.location.href="/student-list",v.a})).catch((function(e){return console.log(e)}))}},l.a.createElement("label",{htmlFor:"name"},"Email:"),l.a.createElement("input",{type:"text",autocomplete:"nope",value:o.email,name:"email",placeholder:"...enter username",onChange:i}),l.a.createElement("label",{htmlFor:"name"},"Password"),l.a.createElement("input",{autocomplete:"new-password",type:"password",value:o.password,name:"password",placeholder:"...enter password",onChange:i}),l.a.createElement("button",{className:"login-button"},"LOG IN"),l.a.createElement("div",{className:"create-acct"},l.a.createElement(c.b,{className:"acct-link",to:"/register"},"Create an Account"))))};var x=function(){return l.a.createElement("div",null,l.a.createElement("h1",null,"Welcome, Please login "),l.a.createElement(w,null))};var j=function(){var e=Object(a.useState)({name:"",email:""}),t=Object(s.a)(e,2),n=t[0],o=t[1],r=function(e){var t=e.target,a=t.name,l=t.value;o(Object(m.a)({},n,Object(u.a)({},a,l)))};return l.a.createElement("div",null,l.a.createElement(g,{autocomplete:"off",onSubmit:function(e){e.preventDefault(),f().post("/api/students",n).then((function(e){console.log(e),window.location.href="/student-list"})).catch((function(e){return console.log(e)}))}},l.a.createElement("div",null,l.a.createElement("label",{htmlFor:"name"},"Name:"),l.a.createElement("input",{autocomplete:"off",type:"text",name:"name",required:!0,value:n.name,onChange:r})),l.a.createElement("div",null,l.a.createElement("label",{htmlFor:"name"},"Email:"),l.a.createElement("input",{autocomplete:"off",type:"email",name:"email",value:n.email,onChange:r})),l.a.createElement("button",null,"Submit")))};var y=function(){return l.a.createElement("div",null,l.a.createElement("h1",null,"Add a new student"),l.a.createElement("br",null),l.a.createElement(j,null))};var O=function(){return l.a.createElement("div",null,l.a.createElement(b,null))};var k=function(e){var t=Object(a.useState)([]),n=Object(s.a)(t,2),o=n[0],r=n[1];return Object(a.useEffect)((function(){f().get("/api/students").then((function(e){console.log(e),r(e.data.students)})).catch((function(e){return console.log(e)}))}),[]),l.a.createElement("div",null,l.a.createElement("h1",null,"Student List"),l.a.createElement("br",null),o.map((function(e){return l.a.createElement("div",{className:"student_list"},l.a.createElement("li",null,l.a.createElement("span",null,"Name:")," ",e.name,"  \xa0 \xa0 ",l.a.createElement("span",null,"Email:")," ",e.email),l.a.createElement("button",{className:"edit_delete",onClick:function(){return function(e){window.location.href="/update-student/".concat(e.id)}(e)}},"Edit"),l.a.createElement("button",{className:"edit_delete",onClick:function(t){return function(e,t){e.preventDefault(),f().delete("/api/students/".concat(t.id)).then((function(e){if(!1===window.confirm("Do you wanna delete "+t.name))return 0;window.location.href="/student-list"})).catch((function(e){return console.log(e)}))}(t,e)}},"Delete"))})))};var S=function(e){var t=Object(a.useState)({name:"",email:""}),n=Object(s.a)(t,2),o=n[0],r=n[1],c=Object(i.g)().id;Object(a.useEffect)((function(){f().get("/api/students/".concat(c)).then((function(e){console.log(e.data.student),r(e.data.student)})).catch((function(e){return console.log(e)}))}),[]);var p=function(e){var t=e.target,n=t.name,a=t.value;r(Object(m.a)({},o,Object(u.a)({},n,a)))};return l.a.createElement("div",null,l.a.createElement(g,{autocomplete:"off",onSubmit:function(e){e.preventDefault(),f().put("/api/students/".concat(c),{name:o.name,email:o.email}).then((function(e){window.location.href="/student-list"})).catch((function(e){return console.log(e)}))}},l.a.createElement("div",null,l.a.createElement("label",{htmlFor:"name"},"Name:"),l.a.createElement("input",{autocomplete:"off",type:"text",name:"name",value:o.name,onChange:p})),l.a.createElement("div",null,l.a.createElement("label",{htmlFor:"name"},"Email:"),l.a.createElement("input",{autocomplete:"off",type:"email",name:"email",value:o.email,onChange:p})),l.a.createElement("button",null,"Update")))},N=n(47),C=function(e){var t=e.component,n=Object(N.a)(e,["component"]);return l.a.createElement(i.b,Object.assign({},n,{render:function(e){return localStorage.getItem("token")?l.a.createElement(t,e):l.a.createElement(i.a,{to:"/login"})}}))};var F=function(){return l.a.createElement("div",{className:"App"},l.a.createElement(c.a,null,l.a.createElement("div",{className:"forma_links",style:{textAlign:"center"}},l.a.createElement("ul",{className:"links"},l.a.createElement("li",null,l.a.createElement(c.b,{to:"/login"},"Login")),l.a.createElement("li",null,l.a.createElement(c.b,{to:"/register"},"Register")),l.a.createElement("li",null,l.a.createElement(c.b,{to:"/student-add"},"Add student")),l.a.createElement("li",null,l.a.createElement(c.b,{to:"/student-list"},"Student List")),l.a.createElement("button",{onClick:function(e){e.preventDefault(),localStorage.removeItem("token"),window.location.href="/"}},"Log Out")),l.a.createElement(i.d,null,l.a.createElement(C,{exact:!0,path:"/student-add",component:y}),l.a.createElement(i.b,{exact:!0,path:"/",component:x}),l.a.createElement(i.b,{exact:!0,path:"/register",component:O}),l.a.createElement(C,{exact:!0,path:"/student-list",component:k}),l.a.createElement(C,{path:"/update-student/:id",component:S}),l.a.createElement(i.b,{component:x})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(l.a.createElement(F,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[49,1,2]]]);
//# sourceMappingURL=main.14c0d13d.chunk.js.map